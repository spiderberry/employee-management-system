<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane prefHeight="650.0" prefWidth="1000.0" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.group13.EmployeeManager.ui.EmployeeFxController">
    <top>
        <VBox spacing="8.0">
            <padding>
                <Insets top="12" right="12" bottom="8" left="12"/>
            </padding>
            <Label text="Employee Directory" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            <HBox spacing="8.0">
                <ComboBox fx:id="searchModeBox" prefWidth="150.0"/>
                <TextField fx:id="searchInput" promptText="Search by name, SSN, or employee ID" HBox.hgrow="ALWAYS"/>
                <Button text="Search" onAction="#handleSearch"/>
                <Button text="Clear" onAction="#handleClearSearch"/>
                <Button text="Refresh" onAction="#handleRefresh"/>
            </HBox>
        </VBox>
    </top>
    <center>
        <VBox spacing="8.0">
            <padding>
                <Insets top="0" right="12" bottom="0" left="12"/>
            </padding>
            <TableView fx:id="employeeTable" prefHeight="360.0" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="idColumn" prefWidth="70.0" text="ID"/>
                    <TableColumn fx:id="nameColumn" prefWidth="150.0" text="Name"/>
                    <TableColumn fx:id="emailColumn" prefWidth="180.0" text="Email"/>
                    <TableColumn fx:id="ssnColumn" prefWidth="140.0" text="SSN"/>
                    <TableColumn fx:id="salaryColumn" prefWidth="110.0" text="Salary"/>
                    <TableColumn fx:id="hireDateColumn" prefWidth="120.0" text="Hire Date"/>
                    <TableColumn fx:id="jobColumn" prefWidth="140.0" text="Job Title"/>
                    <TableColumn fx:id="divisionColumn" prefWidth="140.0" text="Division"/>
                </columns>
            </TableView>
        </VBox>
    </center>
    <bottom>
        <VBox spacing="10.0">
            <padding>
                <Insets top="10" right="12" bottom="12" left="12"/>
            </padding>
            <TitledPane text="Employee Form" expanded="false">
                <VBox spacing="10.0">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <GridPane hgap="12.0" vgap="8.0">
                        <columnConstraints>
                            <ColumnConstraints halignment="RIGHT" minWidth="120.0"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>
                        <rowConstraints>
                            <RowConstraints minHeight="28.0"/>
                            <RowConstraints minHeight="28.0"/>
                            <RowConstraints minHeight="28.0"/>
                            <RowConstraints minHeight="28.0"/>
                            <RowConstraints minHeight="28.0"/>
                            <RowConstraints minHeight="28.0"/>
                            <RowConstraints minHeight="28.0"/>
                            <RowConstraints minHeight="28.0"/>
                        </rowConstraints>
                        <Label text="Employee ID:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <TextField fx:id="idField" promptText="Auto for new employees" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="Name:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <TextField fx:id="nameField" promptText="Full name" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Email:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <TextField fx:id="emailField" promptText="Email address" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="SSN:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                        <TextField fx:id="ssnField" promptText="Social Security Number" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                        <Label text="Salary:" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                        <TextField fx:id="salaryField" promptText="Annual salary" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                        <Label text="Hire Date:" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
                        <DatePicker fx:id="hireDatePicker" promptText="yyyy-mm-dd" GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                        <Label text="Job Title:" GridPane.rowIndex="6" GridPane.columnIndex="0"/>
                        <ComboBox fx:id="jobField" promptText="Select or type new job" GridPane.rowIndex="6" GridPane.columnIndex="1"/>

                        <Label text="Division:" GridPane.rowIndex="7" GridPane.columnIndex="0"/>
                        <ComboBox fx:id="divisionField" promptText="Select or type new division" GridPane.rowIndex="7" GridPane.columnIndex="1"/>
                    </GridPane>
                    <HBox alignment="CENTER_RIGHT" spacing="10.0">
                        <Button text="Add New" onAction="#handleAdd"/>
                        <Button text="Update" onAction="#handleUpdate"/>
                        <Button text="Delete" onAction="#handleDelete"/>
                        <Button text="Clear Form" onAction="#handleClearForm"/>
                    </HBox>
                </VBox>
            </TitledPane>
            <TitledPane text="Salary Adjustment" expanded="false">
                <VBox spacing="8.0">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <HBox spacing="10.0">
                        <TextField fx:id="minSalaryRangeField" promptText="Min salary (e.g. 58000)"/>
                        <TextField fx:id="maxSalaryRangeField" promptText="Max salary (e.g. 105000)"/>
                        <ComboBox fx:id="adjustmentModeBox" prefWidth="140.0"/>
                        <TextField fx:id="adjustmentValueField" promptText="Adjustment value (e.g. 3.2 or -500)"/>
                        <Button text="Apply" onAction="#handleApplySalaryIncrease"/>
                    </HBox>
                </VBox>
            </TitledPane>
            <TitledPane text="Reports" expanded="false">
                <VBox spacing="8.0">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <HBox spacing="10.0">
                        <ComboBox fx:id="reportSelector" prefWidth="320.0"/>
                        <Button text="Run Report" onAction="#handleRunReport"/>
                    </HBox>
                    <TextArea fx:id="reportOutput" prefRowCount="6" wrapText="true" editable="false" promptText="Report output will appear here"/>
                </VBox>
            </TitledPane>
            <Label fx:id="statusLabel" text="Ready" style="-fx-text-fill: #444;"/>
        </VBox>
    </bottom>
</BorderPane>
